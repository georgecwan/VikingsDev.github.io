<!DOCTYPE html>
<html lang="en">
<head>
    <title>VikingsDev</title>
    <link rel="icon" href="../images/logos/vikingsdev-icon.png">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,,500,600,700" rel="stylesheet">

    <link rel="stylesheet" href="../css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="../css/animate.css">

    <link rel="stylesheet" href="../css/owl.carousel.min.css">
    <link rel="stylesheet" href="../css/owl.theme.default.min.css">
    <link rel="stylesheet" href="../css/magnific-popup.css">

    <link rel="stylesheet" href="../css/aos.css">

    <link rel="stylesheet" href="../css/ionicons.min.css">

    <link rel="stylesheet" href="../css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="../css/jquery.timepicker.css">


    <link rel="stylesheet" href="../css/flaticon.css">
    <link rel="stylesheet" href="../css/icomoon.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script><body>

<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
    <div class="container">
        <a href="../index.html"><img src="../images/logos/vikingsdev-logo.png"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
                aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="oi oi-menu"></span> Menu
        </button>

        <div class="collapse navbar-collapse" id="ftco-nav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a href="../index.html" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="../about.html" class="nav-link">About</a></li>
                <li class="nav-item"><a href="../events.html" class="nav-link">Events</a></li>
                <li class="nav-item"><a class="nav-link" href="../leaderboard.html">Bounties</a></li>
                <li class="nav-item active"><a class="nav-link" href="../workshops.html">Workshops</a></li>
                <li class="nav-item"><a href="../contact.html" class="nav-link">Contact</a></li>
                <li class="nav-item cta"><a href="../signup.html" class="nav-link"><span>Sign Up</span></a></li>
            </ul>
        </div>
    </div>
</nav>
<!-- END nav -->



<div class="hero-wrap hero-wrap-2" style="background-image: url('reddit-bot-assets/top.jpeg');"
     data-stellar-background-ratio="0.5">
    <div class="overlay"></div>
    <div class="container">
        <div class="row no-gutters slider-text align-items-end justify-content-start">
            <div class="col-md-8 ftco-animate text-center text-md-left mb-5">
                <p class="breadcrumbs mb-0"><span class="mr-3"><a href="../index.html">Home <i
                        class="ion-ios-arrow-forward"></i></a><a href="../workshops.html"> Workshops <i
                        class="ion-ios-arrow-forward"></i></a></span> <span>Python Reddit Bot</span></p>
                <h1 class="mb-3 bread">Python Reddit Bot</h1>
                <h3 class="mb-3 bread">Joying Yang</h3>
            </div>
        </div>
    </div>
</div>

<br><br>
<p class="text-center sticky-top float-right" style="top:90vh; right:20px;"><a href="https://discord.gg/JTRFMx2" class="btn btn-primary py-3">Get Help</a></p>

<div class="card" style="margin: 0 auto; display: block; max-width: 500px; padding:20px">
    <p class="toc_title">Table of Contents</p>
    <ul class="toc_list">
        <li><a href="#first">Set up</a>
            <!--            <ul>-->
            <!--                <li><a href="#First_Sub_Point_1">1.1 First Sub Point 1</a></li>-->
            <!--                <li><a href="#First_Sub_Point_2">1.2 First Sub Point 2</a></li>-->
            <!--            </ul>-->
        </li>
        <li><a href="#second">Coding the Bot</a></li>
          <ul>
              <li><a href="#Mentions">Mentions</a></li>
              <li><a href="#Keywords">Keywords</a></li>
          </ul>
        <li><a href="#third">Hosting</a></li>
    </ul>
</div>

<section class="ftco-section testimony-section">
    <div class="container">
        <div class="row justify-content-center mb-5 pb-3">
            <div class="col-md-7 heading-section ftco-animate">
                <p>In this workshop, you can learn how to make an automated Reddit bot that does what you want it to do.
                I will show you how to make the bot respond to mentions as well as keywords. The possibilities are endless however.
                If you know your Python, you can make the bot do greater things. But today, we will focus on getting a simple bot up and running.</p>
                <p>This workshop focuses on just making a bot work with browser only resources. This means you will need to use repl.it. Programs you make
                  on repl.it aren't private though. Since you need to input information that gives access to your bot in your repl.it code, your bot will
                  be accessible PUBLICLY. If you want to make it private, all you have to do is do everything in a local folder and your computer's shell. However,
                  since I want this program to work for people without computer permissions, I will be showing you how to do everything on repl.it</p>
                <h2 id="first" class="text-center">Set Up</h2>
                <p>Before you make a bot, you need to do a couple of things.</p>
                <br>
                <p>First, you MUST read the bot etiquette. Bots can be a fun venture for new programmers, but Reddit seriously
                  does NOT need a bunch of bots making mom jokes whenever someone says "mum" since we already have enough 9 year olds doing that.
                  If you do not follow bottiquette, you will get your bot banned and perhaps your IP blacklisted.
                  Coincidentally enough, this <a href="#banned">happened to the bot I made for this workshop.</a></p>
                <p class="text-center"><a href="https://www.reddit.com/wiki/bottiquette" class="btn btn-primary py-3" target="_blank">Bot Etiquette</a></p>
                <p>Next, you'll need a reddit account. You can link your bot to your usual reddit account, or you can create a new one. If you are using free repl.it,
                  you will need a new one because you will have to enter your account credentials and these will be visible to the public. (Note: You do not need to sign up with an email if you do not want.)
                <p class="text-center"  id="idsecret"><a href="https://www.reddit.com/register/" class="btn btn-primary py-3" target="_blank">Reddit Signup</a></p>
                <p>You'll also need to create an application "registration" for your bot. Use the link below.</p>
                <p class="text-center"><a href="  https://www.reddit.com/prefs/apps/" class="btn btn-primary py-3" target="_blank">Create App</a></p>
                <p>Once you open the link, click "are you a devoloper". It should lead you to a page like this.</p>
                <img style="width:100%" src="reddit-bot-assets/createapp.png">
                <p>Give your bot a name. Select script. Enter http://127.0.0.1 into "redirect uri". (This is something stupid Reddit makes you do but...)
                Click "create app" and a page should pop up that tells you your "personal use script" and "secret". Record these two
                strings down. Remember, if you are using repl.it then these will be public along with your entire file. </p>
                <br>
                <p>Finally, you will need to access repl.it to program. With repl.it, you won't need to download anything to your actual
                  device. You can use repl.it without an account, but if you wish to <a href="#third">host</a> then you will need to signup.</p>
                <p class="text-center"><a href="repl.it" class="btn btn-primary py-3" target="_blank">repl.it</a></p>
                <p>After clicking the link, click "start coding" and create a repl.it in Python. You should then have a page opened that looks something like this:<p>
                <img style="width:100%" src="reddit-bot-assets/replstart.png">
                <p>Next, you'll have to click control(command on Mac)+shift+p, which should open a command line shell at the bottom right. Copy the following line of code
                  into the shell and press enter.</p>
                  <div class="codeheader codeheader-python">Python</div>
                  <div class="codebox">
                      <pre><code data-language="python">
                      <p style="color: #fff;">pip install praw</p>
                      </code></pre>
                  </div>
                  <p>This should prompt your machine to import praw, which is a package neede for the bot. After the importing
                is finished, you have completed all the set up requirements! Next, we shall start coding.</p>
                <br>
                <h2 id="second" class="text-center">Coding the Bot</h2>
                <p>Now we can get started on the code! Get on your main.py on repl.it and type or copy the following.<p>
                <div class="codeheader codeheader-python">Python</div>
                <div class="codebox">
                    <pre><code data-language="python">
                    <p style="color: #fff;">import praw
r = praw.Reddit(username = "yourreddituser",
                password = "yourredditpw",
                client_id = "yourclientid",
                client_secret = "yourclientsecret",
                user_agent = "yourbotname by /u/yourredditaccount")</p>
                    </code></pre>
                </div>
                <p>Let's figure out what we just did. The first line imported our package. The second block of code initiated our
                  praw instance. It is the Reddit object that basically acts as our bot, which we will need to control later to make our bot work.
                  Fill each line out according to your own information. The client id and secret should have been recorded down if you were following
                  <a href="#idsecret">the instructions from earlier.</a> Your user_agent basically helps Reddit identify your program in case that is needed. So make sure it's descriptive!</p>
                <br>
                <p>Now I will show you two potential things you could make your bot do. First is responding to <a href="#Mentions">mentions</a>, and the second is responding to
                  <a href="#Keywords">keywords</a>.
                  These are mutually exclusive since they depend on automated streaming of different things. This means you have to choose one of the two, you cannot do both in one bot. You <i>could</i> use threading
                  to overcome this, but that is something you will have to figure out yourself.
                <br>
                <h3 id="Mentions">Mentions</h3>
                <p>Many Reddit bots perform an action after being tagged. These sort of bots are preferred, because they only
                do things when they are <b>called</b>. This will be unlikely to get you banned and blacklisted.
              To get the basic code down, type or copy the following into your repl.it, BELOW the code that initiates the Reddit object.
            Please read the comments (words following a #) so you can learn a bit about what the commands actually do.</p>
                <div class="codeheader codeheader-python">Python</div>
                <div class="codebox">
                    <pre><code data-language="python">
                    <p style="color: #fff;">messages = r.inbox.stream() # creates an iterable for your inbox and streams it
for message in messages: # iterates through your messages
  try:
    if message in r.inbox.mentions() and message in r.inbox.unread(): # if this messasge is a mention AND it is unread...
        message.reply("allhailfrank") # reply with this message
        message.mark_read() # mark message as read so your bot doesn't respond to it again...
  except praw.exceptions.APIException: # Reddit may have rate limits, this prevents your bot from dying due to rate limits
    print("probably a rate limit....")
</p>
                    </code></pre>
                </div>
                <br>
                <h3 id ="Keywords">Keywords</h3>
                <p>This bot can check certain comments and, if there is a keyword in the comment, will do an action. Making the keyword something that
                is commonly said might get you banned. I suggest adding a "!" in front of your keyword so the bot only responds when called on. To get the basic code down,
              type or copy the following into your repl.it, BELOW the code that initiates your Reddit object. Remember, this code should not be in the same place as
              the code under the "Mentions" section. Please read the comments (words following a #) so you can learn a bit about what the commands actually do.</p>
              <div class="codeheader codeheader-python">Python</div>
              <div class="codebox">
                  <pre><code data-language="python">
                  <p style="color: #fff;">subr = r.subreddit('copypasta') # this chooses a subreddit you want to get comments from
for comment in subr.stream.comments(skip_existing=True): # this iterates through the comments from that subreddit as new ones are coming in
  try:
    if "!mom" in comment.body: # "!mom" is the keyword in this case. replace "mom" with your keyword
      comment.reply("ur mom is beautiful...") # this is what your bot replies to the comment that has the keyword
  except praw.exceptions.APIException: # Reddit may have rate limits, this prevents your bot from dying due to rate limits
    print("probably a rate limit...")

</p>
                  </code></pre>
              </div><br>
              <p>Now your code is all good, and you just have to run it! Since your program will be streaming, it will not stop unless you tell it to.</p>
              <p>You may have noticed that currently, your bot only runs when your repl.it program is running, which is only for as long as your tab stays open.
                Many people therefore host their bots on external servers so that the bot is truly automated. I will be showing you how to run your bot on a cloud platform,
                Heroku.</p>
                <p>If you are satisfied without hosting your bot, then congratulations, you have completed the workshop!</p>
                <p>If you would like to take it one step further, keep going!</p>
                <br>
                <h2 id="third" class="text-center">Hosting</h2>
                <p>To host, you will need a GitHub accuont, which I am assuming you have, and a Heroku account, which we will deal with later.</p>
                <p>Let's go back to our program on repl.it. Remember from earlier that to host you must have a repl.it account. First, let's create a new file and
                  name it "Procfile" and type into it:
                  <div class="codeheader codeheader-python">Python</div>
                  <div class="codebox">
                      <pre><code data-language="python">
                      <p style="color: #fff;">worker: python main.py</p>
                      </code></pre>
                  </div>
                <p>This is what it should look like on your repl.it page:</p>
                <img style="width:100%" src="reddit-bot-assets/proc.png">
                <p>A Procfile basically tells Heroku what you want it to run.</p>
                <p>Now we're going to need to create a requirements.txt to tell Heroku what our app's dependencies are.
                    Creating a requirements.txt is good practice. All we need to do is control+shift+p again and type into the shell:<p>
                    <div class="codeheader codeheader-python">Python</div>
                    <div class="codebox">
                        <pre><code data-language="python">
                        <p style="color: #fff;">pip freeze > requirements.txt</p>
                        </code></pre>
                    </div>
                <p>A new file should pop up called requirements.txt that looks somewhat like this:<p>
                <img style="width:70%" src="reddit-bot-assets/requirements.png">
                <p>Next, you're going to need to go to version control on the side bar and connect your GitHub. It will prompt you to give permissions. You will
                  need to give repl.it permission to all your GitHub repositories. Once you are done, you should be able to see something like this:</p>
                    <img style="width:100%" src="reddit-bot-assets/creategit.png">
                <p style="margin-top:10px">Click "Create a Git Repo". You can name it anything you want, but remember this name. It can be public or private, though remember due to repl.it
                  your bot won't be fully private anyway. However, if you are using your own environment for privacy, make the repository private so people can't see your
                   credentials. Now, everything should be linked to a repo on GitHub. Next, you'll need to sign up for a Heroku account.</p>
              <p class="text-center"><a href="https://signup.heroku.com/" class="btn btn-primary py-3" target="_blank">Signup for Heroku</a></p>
              <p>After you create an account, you will need to "create an app". You can name it anything you want, that's available. Once your app is created,
                go to the "Deploy" section and click "GitHub".</p>
              <img style="width:100%" src="reddit-bot-assets/page.png">
              <p style="margin-top: 10px">Search for the repository that you just created. If you entered the correct name,
                it will show you your repository. Click "Connect".</p>
              <img style="width:100%" src="reddit-bot-assets/connectrepo.png">
              <p>Go to the very bottom, and click "Deploy Branch".</p>
              <img style="width:100%" src="reddit-bot-assets/deploy.png">
              <p> A small window will be visible that shows logs. After waiting for a minute or so,
                you will see the message "... deployed to Heroku". Now, you can go to the "Resources" section, where you will see your free dynos. Dynos
                are basically the container that will be running your app. Click the pencil icon to edit, turn on your dyno, and click confirm.</p>
              <img style="width:100%" src="reddit-bot-assets/updatedyno.png">
              <p>And... that's it! Congratulations, your bot is now automatically run by Heroku and will do what you programmed it to do!</p>
              <img style="width:100%" src="reddit-bot-assets/finished.png">
              <p style="margin-top:10px" id="banned">One thing to note is that free accounts on Heroku can only run apps for a limited amount of time monthly. So using Heroku means your bot will die for a bit of time each month.</p>
              <p>Interestingly, right after I finished this workshop, the Reddit bot I used in this workshop got banned by the subreddit I was running it in.
                This again shows the importance of following bottiquette. Keep in mind that mods can be megalomaniacs so they might ban your bot even if you do follow
                bottiquette. You can't do anything about that, but following bottiquette will minimize the chance of being banned.</p>
              <img style="width: 100%" src="reddit-bot-assets/banned.png">
              <br><br>
              <p class="text-center"><a href="../workshops.html"
                                          class="btn btn-primary py-3">Back to Workshops</a></p>

            </div>
        </div>
        <br>
    </div>
</section>

<footer class="ftco-footer ftco-bg-dark ftco-section">
    <div class="container">
        <div class="row mb-5 pb-5 align-items-center d-flex">
            <div class="col-md-6">
                <div class="heading-section heading-section-white ftco-animate">
                    <span class="subheading">Get Inspired</span>
                    <h2 style="font-size: 30px;">Join VikingsDev Today!</h2>
                </div>
            </div>
            <div class="col-md-3 ftco-animate">
                <p class="mb-0"><a href="../signup.html" class="btn btn-primary py-3 px-4"
                                   style="background:#9c6d41; border: 0px;">Sign Up</a></p>
            </div>
        </div>
        <div class="row mb-5">
            <div class="col-md">
                <div class="ftco-footer-widget mb-4 bg-primary p-4">
                    <h2 class="ftco-heading-2">VikingsDev</h2>
                    <p>This website was built for the VikingsDev club at Burnaby North Secondary School.</p>
                    <ul class="ftco-footer-social list-unstyled mb-0">
                        <li class="ftco-animate"><a href="https://twitter.com/vikings_dev"><span
                                class="icon-twitter"></span></a></li>
                        <li class="ftco-animate"><a href="https://www.facebook.com/groups/vikingsdev"><span
                                class="icon-facebook"></span></a></li>
                        <li class="ftco-animate"><a href="https://www.instagram.com/vikingsdev/"><span
                                class="icon-instagram"></span></a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md">
                <div class="ftco-footer-widget mb-4">
                    <h2 class="ftco-heading-2">Navigational</h2>
                    <ul class="list-unstyled">
                        <li><a href="../index.html" class="py-2 d-block">Home</a></li>
                        <li><a href="../about.html" class="py-2 d-block">About</a></li>
                        <li><a href="../events.html" class="py-2 d-block">Events</a></li>
                        <li><a href="../workshops.html" class="py-2 d-block">Workshops</a></li>
                        <li><a href="../contact.html" class="py-2 d-block">Contact</a></li>
                        <li><a href="../signup.html" class="py-2 d-block">Sign Up</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md">
                <div class="ftco-footer-widget mb-4">
                    <h2 class="ftco-heading-2">Find Us</h2>
                    <div class="block-23 mb-3">
                        <ul>
                            <li><span class="icon icon-map-marker"></span><span class="text">751 Hammarskjold Dr, Burnaby, BC V5B 4A1, Canada</span>
                            </li>
                            <li><a href="#"><span class="icon icon-envelope"></span><span class="text">vikingsdev@gmail.com</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 text-center">
                <p>Hosted on <a href="https://github.com/VikingsDev/VikingsDev.github.io">Github</a>. Made by <a
                        href="https://github.com/FrankWhoee">Frank Hui</a></p>
                <p>Based on the <a href="https://colorlib.com/wp/template/cohost/">CoHost ColorLib Template</a></p>
            </div>
        </div>
    </div>
</footer>


<!-- loader -->
<div id="ftco-loader" class="show fullscreen">
    <svg class="circular" width="48px" height="48px">
        <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/>
        <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
                stroke="#F96D00"/>
    </svg>
</div>


<script src="../js/jquery.min.js"></script>
<script src="../js/jquery-migrate-3.0.1.min.js"></script>
<script src="../js/popper.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/jquery.easing.1.3.js"></script>
<script src="../js/jquery.waypoints.min.js"></script>
<script src="../js/jquery.stellar.min.js"></script>
<script src="../js/owl.carousel.min.js"></script>
<script src="../js/jquery.magnific-popup.min.js"></script>
<script src="../js/aos.js"></script>
<script src="../js/jquery.animateNumber.min.js"></script>
<script src="../js/bootstrap-datepicker.js"></script>
<script src="../js/jquery.timepicker.min.js"></script>
<script src="../js/scrollax.min.js"></script>
<script src="../js/google-map.js"></script>
<script src="../js/main.js"></script>

</body>
</html>
